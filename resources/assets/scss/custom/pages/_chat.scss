//
// Chat
//

.chat-wrapper {
    $app-chat-sidebar-width: 340px;
    --#{$prefix}app-chat-sidebar-width: #{$app-chat-sidebar-width};
    display: flex;
    gap: $container-padding-x;
    height: 100%;

    @include media-breakpoint-down(lg) {
        flex-direction: column;
    }

    .chat-left {
        width: 100%;
        min-width: 100%;
        background-color: $card-bg;
        border: 1px solid $card-border-color;

        @include media-breakpoint-up(lg) {
            width: var(--#{$prefix}app-chat-sidebar-width);
            min-width: var(--#{$prefix}app-chat-sidebar-width);
        }

        .chat-filter {
            .choices {
                margin-bottom: 0;
                min-width: 120px;
            }
        }
    }

    .chat-right {
        width: 100%;
        background-color: $card-bg;
        border: 1px solid $card-border-color;

        @include media-breakpoint-up(lg) {
            width: calc(100% - calc(var(--#{$prefix}app-chat-sidebar-width) + #{$container-padding-x}));
        }
    }
}

.chat-left,
.chat-new-contact {
    .list-group {
        .list-group-item {
            margin-top: .25rem;
            cursor: pointer;

            &:active,
            &.active {
                z-index: inherit;
                background-color: var(--#{$prefix}primary);
                box-shadow: 0px 2px 6px 0px rgba(var(--#{$prefix}primary-rgb), 0.3);

                .user-name,
                .user-desc,
                .ri-checkbox-circle-fill,
                .user-chat-time {
                    color: var(--#{$prefix}white) !important;
                }
            }
        }
    }
}

.chat-audio-modal {
    .avatar-item {
        margin-top: -36px;
    }
}

.chat-search {
    .form-control-icon {
        padding-right: 100px;
    }
}

.chat-list-wrapper {
    height: calc(100vh - calc(var(--#{$prefix}app-header-height) + var(--#{$prefix}app-footer-height) + calc($container-padding-x * 2) + 392px));

    @include media-breakpoint-down(lg) {
        height: calc(100vh - calc(var(--#{$prefix}app-header-height) + calc($container-padding-x * 2) + 392px));
    }
}

.chat-content {
    height: calc(100vh - calc(var(--#{$prefix}app-header-height) + var(--#{$prefix}app-footer-height) + calc($container-padding-x * 2) + 130px));

    @include media-breakpoint-down(lg) {
        height: calc(100vh - calc(var(--#{$prefix}app-header-height) + var(--#{$prefix}app-footer-height) + calc($container-padding-x * 2) + 130px));
    }

    .message {
        margin-bottom: 1.25rem;
        font-size: $font-size-sm;

        &:last-child {
            margin-bottom: 0;
        }

        .message-content {
            padding: 1rem 1.75rem;
            background-color: rgba(var(--#{$prefix}light-rgb), 0.5);
            margin-inline-start: 1.25rem;
            border-radius: 1.25rem;
            text-align: left;
            display: inline-block;

            @include media-breakpoint-up(xs) {
                max-width: 25rem;
            }

            .message-attachment {
                display: flex;
                align-items: center;

                .btn-icon {
                    margin-right: 0.625rem;
                }
            }
        }

        .message-options {
            display: inline-flex;
            gap: 6px;
            align-items: center;
            font-size: 12px;
            color: $text-muted;
        }

        &.right {
            text-align: right;

            .message-content {
                background-color: var(--#{$prefix}primary);
                color: var(--#{$prefix}white);
                margin-right: 1.25rem;
                margin-left: 0px
            }

            .message-options {
                flex-direction: row-reverse;
            }
        }

        .avatar-item {
            display: inline-block;
            vertical-align: bottom;
            margin-top: -1.025rem;
            border: 5px solid var(--#{$prefix}secondary-bg);
        }

        .call,
        &.right .call {
            background-color: var(--#{$prefix}secondary-bg);
            border: 1px solid var(--#{$prefix}border-color);
            border-radius: $border-radius;
            color: var(--#{$prefix}body-color);
        }
    }
}
